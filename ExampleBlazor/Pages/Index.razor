@page "/"
@inject IJSRuntime _jsRuntime

<NeuralNetworkVisualizerComponent @ref="_visualizer" />

@code
{
   NeuralNetworkVisualizerComponent _visualizer;


   protected override async Task OnAfterRenderAsync(bool firstRender)
   {

       if (firstRender)
       {
           _visualizer.OnLoaded += OnVisualizerLoaded;
           await _visualizer.Initialize(_jsRuntime);
       };

       await base.OnAfterRenderAsync(firstRender);
   }

   private async void OnVisualizerLoaded(object sender, EventArgs e)
   {
       var size = await _visualizer.GetDrawingSize();

       Console.WriteLine($"{size.Width} x {size.Height}");
   }
}